{"version":3,"sources":["webpack:///./src/tracker/index.ts","webpack:///./src/utils/uuid.ts","webpack:///./src/globel/data.ts","webpack:///./src/LetMeCC.ts"],"names":["Tracker","name","cipher","options","globelData","this","_name","_cipher","_options","_globelData","prototype","track","eventName","params","pageData","queryParams","page","event","console","log","UUID","create","pre","random","arr","Uint32Array","window","crypto","getRandomValues","b","Math","floor","toString","init","document","location","href","title","referrer","Date","uuid","get","$version","$url","$title","$referrer","$pageInitTime","$pageId","LetMeCC","_tracks","Error","reset","LetMeCCInstance","functionName","_a","args","_i","arguments","length","apply","e"],"mappings":"mBAAA,IAAIA,EAAyB,WACzB,SAASA,EAAQC,EAAMC,EAAQC,EAASC,GACpCC,KAAKC,MAAQL,EACbI,KAAKE,QAAUL,EACfG,KAAKG,SAAWL,EAChBE,KAAKI,YAAcL,EAavB,OAVAJ,EAAQU,UAAUC,MAAQ,SAAUC,EAAWC,GAC3C,IAAIC,EAAWT,KAAKI,YAAiB,MACjCM,EAAc,CACdb,OAAQG,KAAKE,QACbS,KAAMF,EACNH,MAAON,KAAKG,SACZS,MAAOJ,GAEXK,QAAQC,IAAIP,EAAWG,IAEpBf,EAlBiB,GCmB5B,YAnB0B,WACtB,SAASoB,KAeT,OAZAA,EAAKV,UAAUW,OAAS,SAAUC,GAC9B,IAAIC,EACJ,IACI,IAAIC,EAAM,IAAIC,YAAY,GAC1BC,OAAOC,OAAOC,gBAAgBJ,GAC9BD,EAAkB,WAATC,EAAI,GAEjB,MAAOK,GACHN,EAASO,KAAKC,MAAsB,WAAhBD,KAAKP,UAE7B,OAAOD,EAAM,IAAMC,EAAOS,SAAS,KAEhCZ,EAhBc,ICCzB,IAAIhB,EAA4B,WAC5B,SAASA,IACLC,KAAK4B,OAqBT,OAlBA7B,EAAWM,UAAUuB,KAAO,WACxB5B,KAAW,KAAI6B,SAASC,SAASC,KACjC/B,KAAa,OAAI6B,SAASG,MAC1BhC,KAAgB,UAAI6B,SAASI,SAC7BjC,KAAoB,cAAI,IAAIkC,KAC5BlC,KAAc,QAAImC,EAAKnB,OAAO,QAGlCjB,EAAWM,UAAU+B,IAAM,WACvB,MAAO,CACHC,SAAUrC,KAAe,SACzBsC,KAAMtC,KAAW,KACjBuC,OAAQvC,KAAa,OACrBwC,UAAWxC,KAAgB,UAC3ByC,cAAezC,KAAoB,cACnC0C,QAAS1C,KAAc,UAGxBD,EAvBoB,GCC3B4C,EAAyB,WACzB,SAASA,IACL3C,KAAKI,YAAc,IAAIL,EAmB3B,OAhBA4C,EAAQtC,UAAUuB,KAAO,SAAUhC,EAAMC,EAAQC,GAC7CE,KAAK4C,QAAQhD,GAAQ,IAAID,EAAQC,EAAMC,EAAQC,EAASE,KAAKI,cAGjEuC,EAAQtC,UAAUC,MAAQ,SAAUV,EAAMW,EAAWC,GACjD,IAAIR,KAAK4C,QAAQhD,GAIb,MAAM,IAAIiD,MAAM,WAAajD,EAAO,mBAHpCI,KAAK4C,QAAQhD,GAAMU,MAAMC,EAAWC,IAO5CmC,EAAQtC,UAAUyC,MAAQ,WACtB9C,KAAKI,aAAeJ,KAAKI,YAAkB,QAExCuC,EArBiB,GAuB5BtB,OAAO0B,gBAAkB,IAAIJ,EAC7BtB,OAAOsB,QAAU,SAAUK,GAGvB,IAFA,IAAIC,EACAC,EAAO,GACFC,EAAK,EAAGA,EAAKC,UAAUC,OAAQF,IACpCD,EAAKC,EAAK,GAAKC,UAAUD,GAE7B,KACKF,EAAK5B,OAAO0B,iBAAiBC,GAAcM,MAAML,EAAIC,GAE1D,MAAOK,GACH1C,QAAQC,IAAIyC,M","file":"LetMeCC.js","sourcesContent":["var Tracker = /** @class */ (function () {\n    function Tracker(name, cipher, options, globelData) {\n        this._name = name;\n        this._cipher = cipher;\n        this._options = options;\n        this._globelData = globelData;\n    }\n    ;\n    Tracker.prototype.track = function (eventName, params) {\n        var pageData = this._globelData['get']();\n        var queryParams = {\n            cipher: this._cipher,\n            page: pageData,\n            track: this._options,\n            event: params\n        };\n        console.log(eventName, queryParams);\n    };\n    return Tracker;\n}());\nexport { Tracker };\n","var UUID = /** @class */ (function () {\n    function UUID() {\n    }\n    ;\n    UUID.prototype.create = function (pre) {\n        var random;\n        try {\n            var arr = new Uint32Array(1);\n            window.crypto.getRandomValues(arr);\n            random = arr[0] & 2079910271;\n        }\n        catch (b) {\n            random = Math.floor(Math.random() * 2079910271);\n        }\n        return pre + 'Â·' + random.toString(36);\n    };\n    return UUID;\n}());\n;\nexport default new UUID();\n","import uuid from '../utils/uuid';\nvar globelData = /** @class */ (function () {\n    function globelData() {\n        this.init();\n    }\n    ;\n    globelData.prototype.init = function () {\n        this['$url'] = document.location.href;\n        this['$title'] = document.title;\n        this['$referrer'] = document.referrer;\n        this['$pageInitTime'] = new Date();\n        this['$pageId'] = uuid.create('pid');\n    };\n    ;\n    globelData.prototype.get = function () {\n        return {\n            $version: this['$version'],\n            $url: this['$url'],\n            $title: this['$title'],\n            $referrer: this['$referrer'],\n            $pageInitTime: this['$pageInitTime'],\n            $pageId: this['$pageId']\n        };\n    };\n    return globelData;\n}());\nexport { globelData };\n","import { Tracker } from './tracker/index';\nimport { globelData } from './globel/data';\nvar LetMeCC = /** @class */ (function () {\n    function LetMeCC() {\n        this._globelData = new globelData();\n    }\n    ;\n    LetMeCC.prototype.init = function (name, cipher, options) {\n        this._tracks[name] = new Tracker(name, cipher, options, this._globelData);\n    };\n    ;\n    LetMeCC.prototype.track = function (name, eventName, params) {\n        if (this._tracks[name]) {\n            this._tracks[name].track(eventName, params);\n        }\n        else {\n            throw new Error(\"Tracker \" + name + \" does not exist\");\n        }\n    };\n    ;\n    LetMeCC.prototype.reset = function () {\n        this._globelData && this._globelData['init']();\n    };\n    return LetMeCC;\n}());\nwindow.LetMeCCInstance = new LetMeCC();\nwindow.LetMeCC = function (functionName) {\n    var _a;\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    try {\n        (_a = window.LetMeCCInstance)[functionName].apply(_a, args);\n    }\n    catch (e) {\n        console.log(e);\n    }\n};\n"],"sourceRoot":""}