(()=>{"use strict";var t,e=function(){return(e=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},r=function(){function t(){this._trackerData={}}return t.prototype.set=function(t){this._trackerData=e(e({},this._trackerData),t)},t}(),n=function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=function(){function t(t,e){var r=this;this._options=t,document.addEventListener("click",(function(t){r.checkEvent(t)&&e("$autoClick",r.assembleParams(t))}))}return t.prototype.checkEvent=function(t){var e=this._options;e.attrs||(e.attrs=[]);var r=!0;return(r=(r=(r=r&&e.elements.indexOf(t.target.nodeName)>-1)||function(t){for(var r=!1,n=0;n<t.length;n++)e.attrs.indexOf(t[n])>-1&&(r=!0);return r}(t.target.attributes))&&(!e.pageFilter||e.pageFilter()))&&(!e.elementFilter||e.elementFilter(t.target))},t.prototype.assembleParams=function(t){var e=t.target,r=(this._options.customProperty?this._options.customProperty(e):{})||{};return n(n({},r),{elementType:e.nodeName,elementClassName:(void 0!==e.className.baseVal?e.className.baseVal:e.className)||"",elementID:e.id||"",elementContent:e.innerText||"",elementUrl:e.href||"",elementPath:function(t){if(t instanceof Element){for(var e=[],r=!1;t&&t.nodeType===Node.ELEMENT_NODE&&"BODY"!==t.nodeName;){var n=t.nodeName.toLowerCase();if(t.id){n+="#"+t.id,e.unshift(n);break}for(var o=t,a=1;o=o.previousElementSibling;)o.nodeName.toLowerCase()==n&&a++;1!=a&&(n+=":nth-of-type("+a+")");var i=void 0!==t.className.baseVal?t.className.baseVal:t.className;n+=i?"."+i.replace(new RegExp(/( )/g),"."):"",e.unshift(n),t.parentNode||(r=!0),t=t.parentNode}return e.unshift(r?"body...":"body"),e.join(" > ")}}(e),$url:document.location.href})},t}(),a=(t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}),i=function(t){function e(e,r,n,o){var a=t.call(this)||this;if(!e||!r)throw new Error("\n                "+(e?"":"tracker name is required")+"\n                "+(r?"":"tracker cipher is required")+"\n            ");return a._name=e,a._cipher=r,a._options=n,a._globelData=o,a.systemEvents(),a}return a(e,t),e.prototype.track=function(t,e,r){void 0===r&&(r="img");var n=this._globelData.get(),o={type:"track",cipher:this._cipher,pageParams:n,trackerParams:this._trackerData,eventParams:e};console.log(t,o,r)},e.prototype.systemEvents=function(){this._options.prevent_pageview||this.track("$pageview",{}),this._options.prevent_pageclose||this.track("$pageclose",{},"beacon"),this._options.autoTrack&&new o(this._options.autoTrack,this.track)},e}(r);const s=new(function(){function t(){}return t.prototype.create=function(t){var e;try{var r=new Uint32Array(1);window.crypto.getRandomValues(r),e=2079910271&r[0]}catch(t){e=Math.floor(2079910271*Math.random())}return t+"Â·"+e.toString(36)},t}());var c=function(){function t(){this.init()}return t.prototype.init=function(){this.$url=document.location.href,this.$title=document.title,this.$referrer=document.referrer,this.$pageInitTime=new Date,this.$pageId=s.create("pid")},t.prototype.get=function(){return{$version:this.$version,$url:this.$url,$title:this.$title,$referrer:this.$referrer,$pageInitTime:this.$pageInitTime,$pageId:this.$pageId}},t}(),p=function(){function t(){this._tracks={},this._globelData=new c}return t.prototype.init=function(t,e,r){this._tracks[t]=new i(t,e,r,this._globelData)},t.prototype.track=function(t,e,r,n){if(!this._tracks[t])throw new Error("Tracker "+t+" does not exist");this._tracks[t].track(e,r,n)},t.prototype.setTrackData=function(t,e){this._tracks[t].set(e)},t.prototype.reset=function(){this._globelData&&this._globelData.init()},t}();window.LetMeCCInstance=new p,window.LetMeCC=function(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];try{(e=window.LetMeCCInstance)[t].apply(e,r)}catch(t){console.log(t)}}})();
//# sourceMappingURL=LetMeCC.js.map